<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1000px" preserveAspectRatio="none" style="width:1006px;height:1000px;" version="1.1" viewBox="0 0 1006 1000" width="1006px" zoomAndPan="magnify"><defs><filter height="300%" id="f1v14e0yruupwe" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="485" x="257.25" y="27.4023">"PSC Discrepancy Service overview - Sequence Diagram"</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="26" x2="26" y1="121.6875" y2="912.9355"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="277" x2="277" y1="121.6875" y2="912.9355"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="640.5" x2="640.5" y1="121.6875" y2="912.9355"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="923.5" x2="923.5" y1="121.6875" y2="912.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="8" y="118.7344">User</text><ellipse cx="26.5" cy="48.1992" fill="#FEFECE" filter="url(#f1v14e0yruupwe)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26.5,56.1992 L26.5,83.1992 M13.5,64.1992 L39.5,64.1992 M26.5,83.1992 L13.5,98.1992 M26.5,83.1992 L39.5,98.1992 " fill="none" filter="url(#f1v14e0yruupwe)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="8" y="925.4707">User</text><ellipse cx="26.5" cy="938.4238" fill="#FEFECE" filter="url(#f1v14e0yruupwe)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26.5,946.4238 L26.5,973.4238 M13.5,954.4238 L39.5,954.4238 M26.5,973.4238 L13.5,988.4238 M26.5,973.4238 L39.5,988.4238 " fill="none" filter="url(#f1v14e0yruupwe)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1v14e0yruupwe)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="196" y="86.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="203" y="106.7344">PSC Discrepancy Web</text><rect fill="#FEFECE" filter="url(#f1v14e0yruupwe)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="196" y="911.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="203" y="932.4707">PSC Discrepancy Web</text><rect fill="#FEFECE" filter="url(#f1v14e0yruupwe)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="562.5" y="86.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="569.5" y="106.7344">PSC Discrepancy API</text><rect fill="#FEFECE" filter="url(#f1v14e0yruupwe)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="562.5" y="911.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="569.5" y="932.4707">PSC Discrepancy API</text><rect fill="#FEFECE" filter="url(#f1v14e0yruupwe)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="855.5" y="69.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="882.5" y="90.2461">CHIPS REST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="862.5" y="106.7344">Interfaces service</text><rect fill="#FEFECE" filter="url(#f1v14e0yruupwe)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="855.5" y="911.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="882.5" y="932.4707">CHIPS REST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="862.5" y="948.959">Interfaces service</text><polygon fill="#A80036" points="265.5,148.998,275.5,152.998,265.5,156.998,269.5,152.998" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="271.5" y1="152.998" y2="152.998"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33.5" y="148.2559">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="46.5" y="148.2559">User selects in obliged entity type</text><polygon fill="#A80036" points="628.5,193.6191,638.5,197.6191,628.5,201.6191,632.5,197.6191" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277.5" x2="634.5" y1="197.6191" y2="197.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="284.5" y="185.2217">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="297.5" y="177.5664">POST PscDiscrepancyReport</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="297.5" y="192.877">with obliged entity type</text><polygon fill="#A80036" points="288.5,238.2402,278.5,242.2402,288.5,246.2402,284.5,242.2402" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="282.5" x2="639.5" y1="242.2402" y2="242.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="294.5" y="229.8428">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="307.5" y="222.1875">OK with created</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="307.5" y="237.498">PscDiscrepancyReport in body</text><polygon fill="#A80036" points="265.5,267.5508,275.5,271.5508,265.5,275.5508,269.5,271.5508" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="271.5" y1="271.5508" y2="271.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33.5" y="266.8086">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="46.5" y="266.8086">User fills in contact name</text><polygon fill="#A80036" points="628.5,312.1719,638.5,316.1719,628.5,320.1719,632.5,316.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277.5" x2="634.5" y1="316.1719" y2="316.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="284.5" y="303.7744">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="297.5" y="296.1191">PUT PscDiscrepancyReport</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="297.5" y="311.4297">with new info added</text><polygon fill="#A80036" points="288.5,356.793,278.5,360.793,288.5,364.793,284.5,360.793" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="282.5" x2="639.5" y1="360.793" y2="360.793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="294.5" y="348.3955">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="307.5" y="340.7402">OK with updated</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="307.5" y="356.0508">PscDiscrepancyReport in body</text><polygon fill="#A80036" points="265.5,401.4141,275.5,405.4141,265.5,409.4141,269.5,405.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="271.5" y1="405.4141" y2="405.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33.5" y="393.0166">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="46.5" y="385.3613">User fills in email address</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="46.5" y="400.6719">and (optionally) phone</text><polygon fill="#A80036" points="628.5,446.0352,638.5,450.0352,628.5,454.0352,632.5,450.0352" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277.5" x2="634.5" y1="450.0352" y2="450.0352"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="284.5" y="437.6377">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="297.5" y="429.9824">PUT PscDiscrepancyReport</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="297.5" y="445.293">with new info added</text><polygon fill="#A80036" points="288.5,490.6563,278.5,494.6563,288.5,498.6563,284.5,494.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="282.5" x2="639.5" y1="494.6563" y2="494.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="294.5" y="482.2588">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="307.5" y="474.6035">OK with updated</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="307.5" y="489.9141">PscDiscrepancyReport in body</text><polygon fill="#A80036" points="265.5,519.9668,275.5,523.9668,265.5,527.9668,269.5,523.9668" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="271.5" y1="523.9668" y2="523.9668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="33.5" y="519.2246">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="55.5" y="519.2246">User fills in company number</text><polygon fill="#A80036" points="628.5,564.5879,638.5,568.5879,628.5,572.5879,632.5,568.5879" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277.5" x2="634.5" y1="568.5879" y2="568.5879"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="284.5" y="556.1904">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="306.5" y="548.5352">PUT PscDiscrepancyReport</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="306.5" y="563.8457">with new info added</text><polygon fill="#A80036" points="288.5,609.209,278.5,613.209,288.5,617.209,284.5,613.209" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="282.5" x2="639.5" y1="613.209" y2="613.209"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="294.5" y="600.8115">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="316.5" y="593.1563">OK with updated</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="316.5" y="608.4668">PscDiscrepancyReport in body</text><polygon fill="#A80036" points="265.5,638.5195,275.5,642.5195,265.5,646.5195,269.5,642.5195" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="271.5" y1="642.5195" y2="642.5195"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="33.5" y="637.7773">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="55.5" y="637.7773">User fills in discrepancy info</text><polygon fill="#A80036" points="628.5,667.8301,638.5,671.8301,628.5,675.8301,632.5,671.8301" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277.5" x2="634.5" y1="671.8301" y2="671.8301"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="284.5" y="667.0879">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="306.5" y="667.0879">POST PscDiscrepancy</text><polygon fill="#A80036" points="288.5,712.4512,278.5,716.4512,288.5,720.4512,284.5,716.4512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="282.5" x2="639.5" y1="716.4512" y2="716.4512"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="294.5" y="704.0537">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="316.5" y="696.3984">OK with created</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="316.5" y="711.709">PscDiscrepancy in body</text><polygon fill="#A80036" points="628.5,741.7617,638.5,745.7617,628.5,749.7617,632.5,745.7617" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277.5" x2="634.5" y1="745.7617" y2="745.7617"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="284.5" y="741.0195">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="317" x="306.5" y="741.0195">PUT PscDiscrepancyReport with status=COMPLETE</text><polygon fill="#A80036" points="911.5,801.6934,921.5,805.6934,911.5,809.6934,915.5,805.6934" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="917.5" y1="805.6934" y2="805.6934"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="647.5" y="785.6406">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="669.5" y="770.3301">POST PscDiscrepancySubmission</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="669.5" y="785.6406">containing PscDiscrepancyReport and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="669.5" y="800.9512">a list of PscDiscrepancy</text><polygon fill="#A80036" points="651.5,831.0039,641.5,835.0039,651.5,839.0039,647.5,835.0039" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="645.5" x2="922.5" y1="835.0039" y2="835.0039"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="657.5" y="830.2617">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="679.5" y="830.2617">OK</text><polygon fill="#A80036" points="288.5,890.9355,278.5,894.9355,288.5,898.9355,284.5,894.9355" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="282.5" x2="639.5" y1="894.9355" y2="894.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="294.5" y="874.8828">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="316.5" y="859.5723">OK with updated</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="316.5" y="874.8828">PscDiscrepancyReport in body</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="316.5" y="890.1934">with status=COMPLETE</text><!--MD5=[71bc6f12de9c408bb368bcbb379beefb]
@startuml

title "PSC Discrepancy Service overview - Sequence Diagram"
autonumber
actor User
participant "PSC Discrepancy Web" as Web
participant "PSC Discrepancy API" as Api
participant "CHIPS REST\nInterfaces service" as ChipsRest

User -> Web : User selects in obliged entity type
Web -> Api  : POST PscDiscrepancyReport\nwith obliged entity type
Api - -> Web : OK with created\nPscDiscrepancyReport in body

User -> Web : User fills in contact name
Web -> Api  : PUT PscDiscrepancyReport\nwith new info added
Api - -> Web : OK with updated\nPscDiscrepancyReport in body

User -> Web : User fills in email address\nand (optionally) phone
Web -> Api  : PUT PscDiscrepancyReport\nwith new info added
Api - -> Web : OK with updated\nPscDiscrepancyReport in body

User -> Web : User fills in company number
Web -> Api  : PUT PscDiscrepancyReport\nwith new info added
Api - -> Web : OK with updated\nPscDiscrepancyReport in body

User -> Web : User fills in discrepancy info
Web -> Api  : POST PscDiscrepancy
Api - -> Web : OK with created\nPscDiscrepancy in body
Web -> Api  : PUT PscDiscrepancyReport with status=COMPLETE
Api -> ChipsRest  : POST PscDiscrepancySubmission\ncontaining PscDiscrepancyReport and\na list of PscDiscrepancy
ChipsRest - -> Api : OK
Api - -> Web  : OK with updated\nPscDiscrepancyReport in body\nwith status=COMPLETE


@enduml

PlantUML version 1.2020.16(Sun Aug 23 21:20:43 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>